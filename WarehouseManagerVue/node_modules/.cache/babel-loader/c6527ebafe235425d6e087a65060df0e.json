{"remainingRequest":"D:\\Work\\WorkSpace\\GitWorkSpace\\TenShop\\resource\\WarehouseManager\\src\\WarehouseManagerVue\\node_modules\\babel-loader\\lib\\index.js!D:\\Work\\WorkSpace\\GitWorkSpace\\TenShop\\resource\\WarehouseManager\\src\\WarehouseManagerVue\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!D:\\Work\\WorkSpace\\GitWorkSpace\\TenShop\\resource\\WarehouseManager\\src\\WarehouseManagerVue\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\Work\\WorkSpace\\GitWorkSpace\\TenShop\\resource\\WarehouseManager\\src\\WarehouseManagerVue\\src\\components\\Login.vue?vue&type=script&lang=js","dependencies":[{"path":"D:\\Work\\WorkSpace\\GitWorkSpace\\TenShop\\resource\\WarehouseManager\\src\\WarehouseManagerVue\\src\\components\\Login.vue","mtime":1713435226763},{"path":"D:\\Work\\WorkSpace\\GitWorkSpace\\TenShop\\resource\\WarehouseManager\\src\\WarehouseManagerVue\\babel.config.js","mtime":1713435210088},{"path":"D:\\Work\\WorkSpace\\GitWorkSpace\\TenShop\\resource\\WarehouseManager\\src\\WarehouseManagerVue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1713435214031},{"path":"D:\\Work\\WorkSpace\\GitWorkSpace\\TenShop\\resource\\WarehouseManager\\src\\WarehouseManagerVue\\node_modules\\babel-loader\\lib\\index.js","mtime":1725032158806},{"path":"D:\\Work\\WorkSpace\\GitWorkSpace\\TenShop\\resource\\WarehouseManager\\src\\WarehouseManagerVue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1713435214031},{"path":"D:\\Work\\WorkSpace\\GitWorkSpace\\TenShop\\resource\\WarehouseManager\\src\\WarehouseManagerVue\\node_modules\\vue-loader\\lib\\index.js","mtime":1725032159118}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:ZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJMb2dpbiIsCiAgZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGNvbmZpcm1fZGlzYWJsZWQ6IGZhbHNlLAogICAgICAvL+mYsuatouWkmuasoeaPkOS6pAogICAgICBsb2dpbkZvcm06IHsKICAgICAgICBubzogIiIsCiAgICAgICAgcGFzc3dvcmQ6ICIiCiAgICAgIH0sCiAgICAgIHJ1bGVzOiB7CiAgICAgICAgbm86IFt7CiAgICAgICAgICByZXF1aXJlZDogdHJ1ZSwKICAgICAgICAgIG1lc3NhZ2U6ICLor7fovpPlhaXotKblj7ciLAogICAgICAgICAgdHJpZ2dlcjogImJsdXIiCiAgICAgICAgfV0sCiAgICAgICAgcGFzc3dvcmQ6IFt7CiAgICAgICAgICByZXF1aXJlZDogdHJ1ZSwKICAgICAgICAgIG1lc3NhZ2U6ICLor7fovpPlr4bnoIEiLAogICAgICAgICAgdHJpZ2dlcjogImJsdXIiCiAgICAgICAgfV0KICAgICAgfQogICAgfTsKICB9LAogIG1ldGhvZHM6IHsKICAgIGNvbmZpcm0oKSB7CiAgICAgIHRoaXMuY29uZmlybV9kaXNhYmxlZCA9IHRydWU7CiAgICAgIHRoaXMuJHJlZnMubG9naW5Gb3JtLnZhbGlkYXRlKHZhbGlkID0+IHsKICAgICAgICBpZiAodmFsaWQpIHsKICAgICAgICAgIC8vdmFsaWTmiJDlip/kuLp0cnVl77yM5aSx6LSl5Li6ZmFsc2UKICAgICAgICAgIC8v5Y675ZCO5Y+w6aqM6K+B55So5oi35ZCN5a+G56CBCiAgICAgICAgICB0aGlzLiRheGlvcy5wb3N0KHRoaXMuJGh0dHBVcmwgKyAiL3VzZXIvbG9naW4iLCB0aGlzLmxvZ2luRm9ybSkudGhlbihyZXMgPT4gcmVzLmRhdGEpLnRoZW4ocmVzID0+IHsKICAgICAgICAgICAgaWYgKHJlcy5jb2RlID09IDIwMCkgewogICAgICAgICAgICAgIC8v5a2Y5YKoCiAgICAgICAgICAgICAgc2Vzc2lvblN0b3JhZ2Uuc2V0SXRlbSgiQ3VyVXNlciIsIEpTT04uc3RyaW5naWZ5KHJlcy5kYXRhLnVzZXIpKTsKICAgICAgICAgICAgICBjb25zb2xlLmxvZyhyZXMuZGF0YS5tZW51KTsKICAgICAgICAgICAgICB0aGlzLiRzdG9yZS5jb21taXQoInNldE1lbnUiLCByZXMuZGF0YS5tZW51KTsKICAgICAgICAgICAgICAvL+i3s+i9rOWIsOS4u+mhtQogICAgICAgICAgICAgIHRoaXMuJHJvdXRlci5yZXBsYWNlKCIvSW5kZXgiKTsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICB0aGlzLmNvbmZpcm1fZGlzYWJsZWQgPSBmYWxzZTsKICAgICAgICAgICAgICBhbGVydCgi5qCh6aqM5aSx6LSl77yM55So5oi35ZCN5oiW5a+G56CB6ZSZ6K+v77yBIik7CiAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICAgICAgICB9CiAgICAgICAgICB9KS5jYXRjaChlID0+IHsKICAgICAgICAgICAgdGhpcy5jb25maXJtX2Rpc2FibGVkID0gZmFsc2U7CiAgICAgICAgICAgIGNvbnNvbGUubG9nKGUpOwogICAgICAgICAgICBpZiAoZS5yZXNwb25zZSA9PSB1bmRlZmluZWQgfHwgZS5yZXNwb25zZS5kYXRhID09IHVuZGVmaW5lZCkgewogICAgICAgICAgICAgIHRoaXMuJG1lc3NhZ2UoewogICAgICAgICAgICAgICAgc2hvd0Nsb3NlOiB0cnVlLAogICAgICAgICAgICAgICAgbWVzc2FnZTogZSwKICAgICAgICAgICAgICAgIHR5cGU6ICJlcnJvciIsCiAgICAgICAgICAgICAgICBkdXJhdGlvbjogNTAwMAogICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgIHRoaXMuJG1lc3NhZ2UoewogICAgICAgICAgICAgICAgc2hvd0Nsb3NlOiB0cnVlLAogICAgICAgICAgICAgICAgbWVzc2FnZTogZS5yZXNwb25zZS5kYXRhLAogICAgICAgICAgICAgICAgdHlwZTogImVycm9yIiwKICAgICAgICAgICAgICAgIGR1cmF0aW9uOiA1MDAwCiAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0pOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICB0aGlzLmNvbmZpcm1fZGlzYWJsZWQgPSBmYWxzZTsKICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfQogIH0KfTs="},{"version":3,"names":["name","data","confirm_disabled","loginForm","no","password","rules","required","message","trigger","methods","confirm","$refs","validate","valid","$axios","post","$httpUrl","then","res","code","sessionStorage","setItem","JSON","stringify","user","console","log","menu","$store","commit","$router","replace","alert","catch","e","response","undefined","$message","showClose","type","duration"],"sources":["src/components/Login.vue"],"sourcesContent":["<template>\r\n    <div class=\"loginBody\">\r\n        <div\r\n            style=\"\r\n                width: 98%;\r\n                text-align: center;\r\n                color: white;\r\n                padding: 8vh 100px 0 0;\r\n                -webkit-text-stroke: 1px black;\r\n                font-size: 3vh;\r\n            \"\r\n        >\r\n            <h1>欢迎访问仓库管理系统</h1>\r\n        </div>\r\n\r\n        <div class=\"loginDiv\">\r\n            <div class=\"login-content\">\r\n                <el-row>\r\n                    <el-col style=\"text-align: center; padding: 25px 0 25px 0\">\r\n                        <i\r\n                            class=\"iconfont icon-r-building\"\r\n                            style=\"font-size: 36px\"\r\n                        ></i>\r\n                        <b style=\"font-size: 36px\"> 仓库管理系统</b>\r\n                    </el-col>\r\n                </el-row>\r\n                <el-form\r\n                    :model=\"loginForm\"\r\n                    label-width=\"100px\"\r\n                    :rules=\"rules\"\r\n                    ref=\"loginForm\"\r\n                >\r\n                    <el-form-item label=\"账号\" prop=\"no\">\r\n                        <el-input\r\n                            style=\"width: 200px\"\r\n                            type=\"text\"\r\n                            v-model=\"loginForm.no\"\r\n                            autocomplete=\"off\"\r\n                            \r\n                        ></el-input>\r\n                    </el-form-item>\r\n                    <el-form-item label=\"密码\" prop=\"password\">\r\n                        <el-input\r\n                            style=\"width: 200px\"\r\n                            type=\"password\"\r\n                            v-model=\"loginForm.password\"\r\n                            show-password\r\n                            autocomplete=\"off\"\r\n                            \r\n                            @keyup.enter.native=\"confirm\"\r\n                        ></el-input>\r\n                    </el-form-item>\r\n                    <el-form-item style=\"padding-left: 45px\">\r\n                        <el-button\r\n                            type=\"primary\"\r\n                            @click=\"confirm\"\r\n                            :disabled=\"confirm_disabled\"\r\n                            style=\"font-size: 22px\"\r\n                        >\r\n                            登 录</el-button\r\n                        >\r\n                    </el-form-item>\r\n                </el-form>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n\r\n<script>\r\nexport default {\r\n    name: \"Login\",\r\n    data() {\r\n        return {\r\n            confirm_disabled: false, //防止多次提交\r\n            loginForm: {\r\n                no: \"\",\r\n                password: \"\",\r\n            },\r\n            rules: {\r\n                no: [\r\n                    { required: true, message: \"请输入账号\", trigger: \"blur\" },\r\n                ],\r\n                password: [\r\n                    { required: true, message: \"请输密码\", trigger: \"blur\" },\r\n                ],\r\n            },\r\n        };\r\n    },\r\n    methods: {\r\n        confirm() {\r\n            this.confirm_disabled = true;\r\n            this.$refs.loginForm.validate((valid) => {\r\n                if (valid) {\r\n                    //valid成功为true，失败为false\r\n                    //去后台验证用户名密码\r\n                    this.$axios\r\n                        .post(this.$httpUrl + \"/user/login\", this.loginForm)\r\n                        .then((res) => res.data)\r\n                        .then((res) => {\r\n                            if (res.code == 200) {\r\n                                //存储\r\n                                sessionStorage.setItem(\r\n                                    \"CurUser\",\r\n                                    JSON.stringify(res.data.user)\r\n                                );\r\n\r\n                                console.log(res.data.menu);\r\n                                this.$store.commit(\"setMenu\", res.data.menu);\r\n                                //跳转到主页\r\n                                this.$router.replace(\"/Index\");\r\n                            } else {\r\n                                this.confirm_disabled = false;\r\n                                alert(\"校验失败，用户名或密码错误！\");\r\n                                return false;\r\n                            }\r\n                        })\r\n                        .catch((e) => {\r\n                            this.confirm_disabled = false;\r\n                            console.log(e);\r\n                            if (\r\n                                e.response == undefined ||\r\n                                e.response.data == undefined\r\n                            ) {\r\n                                this.$message({\r\n                                    showClose: true,\r\n                                    message: e,\r\n                                    type: \"error\",\r\n                                    duration: 5000,\r\n                                });\r\n                            } else {\r\n                                this.$message({\r\n                                    showClose: true,\r\n                                    message: e.response.data,\r\n                                    type: \"error\",\r\n                                    duration: 5000,\r\n                                });\r\n                            }\r\n                        });\r\n                } else {\r\n                    this.confirm_disabled = false;\r\n                    return false;\r\n                }\r\n            });\r\n        },\r\n    },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\nhtml,\r\nbody {\r\n    overflow-x: hidden;\r\n}\r\n\r\n.loginBody {\r\n    position: absolute;\r\n    width: 100%;\r\n    height: 100%;\r\n    /* background-color: #B3C0D1; */\r\n    background: url(\"../assets/home.jpg\");\r\n    background-size: 100% 100%;\r\n\r\n    overflow-x: hidden;\r\n}\r\n.loginDiv {\r\n    position: absolute;\r\n    top: 50%;\r\n    left: 50%;\r\n    margin-top: -200px;\r\n    margin-left: -250px;\r\n    width: 450px;\r\n    height: 330px;\r\n    background: #fff;\r\n    border-radius: 5%;\r\n    opacity: 0.9;\r\n}\r\n.login-title {\r\n    margin: 20px 0;\r\n    text-align: center;\r\n}\r\n.login-content {\r\n    width: 400px;\r\n    height: 250px;\r\n    position: absolute;\r\n    top: 25px;\r\n    left: 25px;\r\n}\r\n</style>"],"mappings":"AAsEA;EACAA,IAAA;EACAC,KAAA;IACA;MACAC,gBAAA;MAAA;MACAC,SAAA;QACAC,EAAA;QACAC,QAAA;MACA;MACAC,KAAA;QACAF,EAAA,GACA;UAAAG,QAAA;UAAAC,OAAA;UAAAC,OAAA;QAAA,EACA;QACAJ,QAAA,GACA;UAAAE,QAAA;UAAAC,OAAA;UAAAC,OAAA;QAAA;MAEA;IACA;EACA;EACAC,OAAA;IACAC,QAAA;MACA,KAAAT,gBAAA;MACA,KAAAU,KAAA,CAAAT,SAAA,CAAAU,QAAA,CAAAC,KAAA;QACA,IAAAA,KAAA;UACA;UACA;UACA,KAAAC,MAAA,CACAC,IAAA,MAAAC,QAAA,uBAAAd,SAAA,EACAe,IAAA,CAAAC,GAAA,IAAAA,GAAA,CAAAlB,IAAA,EACAiB,IAAA,CAAAC,GAAA;YACA,IAAAA,GAAA,CAAAC,IAAA;cACA;cACAC,cAAA,CAAAC,OAAA,CACA,WACAC,IAAA,CAAAC,SAAA,CAAAL,GAAA,CAAAlB,IAAA,CAAAwB,IAAA,CACA;cAEAC,OAAA,CAAAC,GAAA,CAAAR,GAAA,CAAAlB,IAAA,CAAA2B,IAAA;cACA,KAAAC,MAAA,CAAAC,MAAA,YAAAX,GAAA,CAAAlB,IAAA,CAAA2B,IAAA;cACA;cACA,KAAAG,OAAA,CAAAC,OAAA;YACA;cACA,KAAA9B,gBAAA;cACA+B,KAAA;cACA;YACA;UACA,GACAC,KAAA,CAAAC,CAAA;YACA,KAAAjC,gBAAA;YACAwB,OAAA,CAAAC,GAAA,CAAAQ,CAAA;YACA,IACAA,CAAA,CAAAC,QAAA,IAAAC,SAAA,IACAF,CAAA,CAAAC,QAAA,CAAAnC,IAAA,IAAAoC,SAAA,EACA;cACA,KAAAC,QAAA;gBACAC,SAAA;gBACA/B,OAAA,EAAA2B,CAAA;gBACAK,IAAA;gBACAC,QAAA;cACA;YACA;cACA,KAAAH,QAAA;gBACAC,SAAA;gBACA/B,OAAA,EAAA2B,CAAA,CAAAC,QAAA,CAAAnC,IAAA;gBACAuC,IAAA;gBACAC,QAAA;cACA;YACA;UACA;QACA;UACA,KAAAvC,gBAAA;UACA;QACA;MACA;IACA;EACA;AACA","ignoreList":[]}]}